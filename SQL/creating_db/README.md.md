# Basics of Creating a Database

## What is a database? 
A database is somewhere where you gather information. It usually contains structured data held in a computer, kept in tables, similar to (but not necessarily) an Excel Spreadsheet. 

__Definitions__

*Columns* - Vertical

*Row* - Horizontal 

*Table* - predefined format of rows and columns that define an entity, also known as a 'file'. 

*DBMS* - DataBase Management System: allows computer to perform database functions. 

## Relational Databases

__Must contain connected data__: The data should be related to each other. e.g book_reviews, author_details and publisher_details as 3 tables which are related to each other. 

## Types of databases 
- Flat-file Database
- Relational database
- Big Data
    - MongoDB, Vertica etc. 
    - Used fro Data ANalytics

## Relationship Types 
- 121
    - Each row in Table A is linked to no more than one row in table B
- 12many
    - Each row can be related to many rows in the relating table
    - allows frequently used information to be saved 
- many2many
    - one or more rows in a table can be related to many rows in another table
    - a 3rd table called a mapping or link table is required in order to implement such a relationship. 

## Primary Key:
- Uniquely identifies each record in the table 
- most tables should have a primary key
- each table can have more than one column which is part of its primary key (a composite key)
- can either be an attribute that is guaranteed to be unique e.g NI, or it can be generated by the DBMS
- the DBMS will enforce its uniqueness of the Primary Key, not allowing repeated records to exist in the table. 

### Constraints:
- must be unique
- must always have an entry, not blank or Null
- must never change
- each table must have a max of one primary key

### Two types of Primary Key:
1. Simple Key
2. Composite Key

## Foreign Key:

- Using another table's primary key as a catagory to establish a relationship to that table. 
- Ensures that row of information in table A correspongs to the correct row in table B
Constraint is to prevent actions that would destroy links betweeb tables
- prevents invalid data from being inserted into the foreign key column
- no uniqueness constaint 
- table can have a number of foreign keys

## Database tools: 
- postgreSQL : opensource 
- SQL server editions: paid
- MySQL : opensource
- Redis
- mongoDB :not only SQL, doesn't have the limits of foreign keys

## DML, DDL, DCL and TCL: 
![SQL](https://media.discordapp.net/attachments/767793850529087489/770259228395962368/unknown.png)

## How to create a DB:
1. New Query 
2. CREATE DATABASE name_of_db ;
3. F5 or click Run 
4. Refresh the 

**Note:**
```
CREATE DATABASE name_of_db ;
USE my_db ;
```
- means the console will access the DB you just created 
- you can now create tables or gather info from it 
- when you open new query 


## Data Types (Part 1)
- VARCHAR
    - adaptable to different lengths and characters, records the max
- CHARACTER or CHAR
    - data must be a fixed length, fixed amount of space used
- INT
    - holds an integer
- DATE or TIME or DATETIME
    - stores date, time or both
- DECIMAL or NUMERIC
    - fixed precision and scale, (total digits, digits after the decimal point)
- BINARY
    - binary data such as image / file
- FLOAT
    - scientific use , v large numbers
- BIT 
    - equiv to binary (0,1 or Null)


__Null__ is not nothing, but it does not equate to 0. 

by using NOT NULL you can force the table not to accept empty fields for that column.

__Example:__

```
CREATE TABLE people (
    person_id INT NOT NULL IDENTITY PRIMARY KEY,
    person_name VARCHAR(255) NOT NULL, 
    height DECIMAL(7,3)
    is_happy BIT
);
```

## SQL Syntax:

- SP_HELP <name>

    - Shows the structure of a table
    -E.g. 

    ```SP_HELP sample```

- CREATE
   - Creates a database with a specified name
    
    ```CREATE DATABASE db_name```

   - Creates a table with a specified column name and type

   ```CREATE TABLE sample(name VARCHAR(10))```
- USE
    - Uses specified database for some data manipulation
    ```USE my_db```
SELECT <object> FROM <name>

Selects a specific object / column / row from a specific table
Example: SELECT * FROM sample
ALTER TABLE <name> ALTER <column/row> <name> <type>

Modifies the table's column or row to a different data type
Example: ALTER TABLE sample ALTER COLUMN name VARCHAR(255)
INSERT INTO <name> (column_1, column_2) VALUES ('value_1', 'value_2')

Inserts some data into the columns
Example: INSERT INTO sample (name, surname) VALUES ('John', 'Smith')
UPDATE <name> SET <column> = <new value> WHERE <column> = <existing value>

Updates data in a specific table based on value in a column
Example: UPDATE sample SET name = 'Dev' WHERE name = 'Hubert'
DELETE FROM <name> WHERE <column> = <value>

Removes a row based on a value in a column
Example: DELETE FROM sample WHERE name = 'Dev'
DROP <name>

Deletes an entire table
Example: DROP sample